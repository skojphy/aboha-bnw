<script>
	import { enhance } from '$app/forms';
	const checked = [false, false, false, false, false];
	const handleClick = (index) => {
		checked[index] = !checked[index];
	};

	const handleSubmit = () => {
		const allChecked = checked.every((value) => value);

		if (!allChecked) {
			window.alert('ì£¼ì˜ì‚¬í•­ì„ ëª¨ë‘ í™•ì¸í•´ ì£¼ì„¸ìš”.');
			const location = document.querySelector('#card' + checked.find((val) => false)).offsetTop;
			window.scrollTo({ top: location, behavior: 'smooth' });
		}
		return allChecked;
	};
</script>

<main>
	<h1 class="visually-hidden">í‘ë°±ì „ ì°¸ê°€ ì‹ ì²­</h1>
	<section class="info">
		<div class="container">
			<div class="title">
				<p>ì ê¹, ë©ˆì¶°!</p>
				<h2>ì‹ ì²­ ì „ í™•ì¸í•´ ì£¼ì„¸ìš”.</h2>
			</div>

			<div class="card" id="card0">
				<div class="card-text">
					<span class="title">í‘ë°±ì „ì€ íŒ€ì „ìœ¼ë¡œ ì§„í–‰ë¼ìš”.</span>
					<p class="desc">
						<span>ëŠ¦ì°¸ ë° ì¡°ê¸°í‡´ê·¼ì€ ê¶Œì¥í•˜ì§€ ì•Šì•„ìš”. </span>
						<span>ì‹œì‘ ì‹œê°„ì€ 16ì‹œ 30ë¶„ì´ê³ ìš”,</span>
						<span>ì¢…ë£Œ ì‹œê°„ì€ ì¶”í›„ ê³µì§€ ì˜ˆì •ì´ì—ìš”!</span>
					</p>
				</div>
				<button class={checked[0] ? 'checked' : 'not-checked'} on:click={() => handleClick(0)}
					>í™•ì¸</button
				>
			</div>

			<div class="card" id="card1">
				<div class="card-text">
					<span class="title">ì°¸ì „ ë¹„ìš©ì€ 5ë§Œ ì›ì´ì—ìš”.</span>
					<p class="desc">
						<span>ë‚¨ì€ ê¸ˆì•¡ì€ í‘ë°±ì „ ì¢…ë£Œ ì¼ì£¼ì¼ ì´ë‚´ì— ê³„ì¢Œë¡œ í™˜ê¸‰í•´ ë“œë¦´ ì˜ˆì •ì´ì—ìš”.</span>
						<span>ìˆ˜ì§‘í•œ ê³„ì¢Œë²ˆí˜¸ëŠ” ì¼ì£¼ì¼ ë‚´ì— ì•ˆì „í•˜ê²Œ íŒŒê¸°í• ê²Œìš”!</span>
					</p>
				</div>
				<button class={checked[1] ? 'checked' : 'not-checked'} on:click={() => handleClick(1)}
					>í™•ì¸</button
				>
			</div>

			<div class="card" id="card2">
				<div class="card-text">
					<span class="title">ì¤€ë¹„ë¬¼ë„ ìŠì§€ ë§ì•„ ì£¼ì„¸ìš”.</span>
					<p class="desc">
						<span>ì •ëª¨ êµ­ë£° ì´ë²¤íŠ¸, ì“¸ë°ì—†ëŠ” ì„ ë¬¼ êµí™˜ì‹!</span>
						<span>5ì²œ ì› ì´í•˜ì˜ ì“¸ë°ì—†ëŠ” ì„ ë¬¼ì„ ì¤€ë¹„í•´ ì£¼ì„¸ìš”.</span>
						<span>ì„ ë¬¼ì„ ìŠ¤í¬í•˜ì§€ ì•Šë„ë¡ í¬ì¥ì€ í•„ìˆ˜ì˜ˆìš”.</span>
					</p>
				</div>
				<button class={checked[2] ? 'checked' : 'not-checked'} on:click={() => handleClick(2)}
					>í™•ì¸</button
				>
			</div>
			<div class="card" id="card3">
				<div class="card-text">
					<span class="title">ë“œë ˆìŠ¤ ì½”ë“œë„ ìˆë‹µë‹ˆë‹¤.</span>
					<p class="desc">
						<span>íŒ€ì— ë”°ë¼ í°ìƒ‰, ê²€ì€ìƒ‰ ìƒì˜ë¥¼ ì…ì–´ ì£¼ì„¸ìš”.</span>
						<span>íŒ€ì€ í‘ë°±ì „ 3ì¼ ì „ì— ë¬¸ìë¡œ ì•Œë ¤ ë“œë¦´ê²Œìš”!</span>
						<span>ì–´ë–¤ íŒ€ì¸ì§€ëŠ” ì² ì €íˆ ë¹„ë°€ë¡œ í•´ ì£¼ì„¸ìš”!</span>
					</p>
				</div>
				<button class={checked[3] ? 'checked' : 'not-checked'} on:click={() => handleClick(3)}
					>í™•ì¸</button
				>
			</div>
			<div class="card" id="card4">
				<div class="card-text">
					<span class="title">ë³´ë“œê²Œì„ ê°€ì ¸ì™€ ì£¼ì„¸ìš”.</span>
					<p class="desc">
						<span>ì´ë²ˆ í‘ë°±ì „ ì¥ì†Œì—ëŠ” ë¹„ì¹˜ëœ ë³´ê²œì´ ì—†ë‹µë‹ˆë‹¤.</span>
						<span>í•¨ê»˜ ì¦ê¸°ê³  ì‹¶ì€ ë³´ë“œê²Œì„ì´ ìˆë‹¤ë©´</span>
						<span>ë¶€í”¼ì™€ ë¬´ê²Œë¥¼ ê³ ë ¤í•´ ì±™ê²¨ì™€ ì£¼ì„¸ìš”!</span>
					</p>
				</div>
				<button class={checked[4] ? 'checked' : 'not-checked'} on:click={() => handleClick(4)}
					>í™•ì¸</button
				>
			</div>
		</div>
	</section>

	<section class="form">
		<div class="container">
			<div class="title">
				<p>í‚¤ë¯¸ë…¸..ë‚˜ë§ˆì—ì™€..!</p>
				<h2>ê°œì¸ì •ë³´ ì¢€ í„¸ì–´ ê°ˆê²Œìš”.</h2>
			</div>

			<div class="wrapper">
				<form
					method="POST"
					action="?/submitForm"
					use:enhance={() => {
						if (!checked.every((value) => value)) return false;

						return async ({ result }) => {
							if (result.type === 'error') {
								window.alert('ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
							}
							window.location.href = '/result';
						};
					}}
					on:submit={handleSubmit}
				>
					<label>
						ì´ë¦„ì´ ë­ì˜ˆìš”?
						<input type="text" name="name" placeholder="ë³¸ëª…(ì˜ˆê¸ˆì£¼ í™•ì¸ ìš©) / ë‹‰ë„¤ì„" required />
					</label>
					<label>
						ì „í™”ë²ˆí˜¸ ë­ì˜ˆìš”?
						<span>í‘ë°±ì „ ì¢…ë£Œ ì´í›„ ì‚­ì œí• ê²Œìš”!</span>
						<input type="text" name="phone" placeholder="010-0000-0000" required />
					</label>
					<label>
						ê³„ì¢Œë²ˆí˜¸ ë­ì˜ˆìš”?
						<span>í‘ë°±ì „ ì¢…ë£Œ ì´í›„ ì‚­ì œí• ê²Œìš”!</span>
						<input type="text" name="account" placeholder="ìš°ë¦¬ì€í–‰ 1002044760137" required />
					</label>
					<label>
						ëª‡ ì‹œê¹Œì§€ ì˜¤ì‹¤ ìˆ˜ ìˆì£ ?
						<input type="text" name="arrival" placeholder="ì‹œì‘ ì‹œê°„ ë§ì¶°ì„œ, 17ì‹œìš”" required />
					</label>
					<label>
						ì§‘ì—ëŠ” ì–¸ì œ ê°€ì‹¤ ê±°ì˜ˆìš”?
						<input type="text" name="leave" placeholder="ë°¤ìƒ˜ ê°€ëŠ¥, 24ì‹œ" required />
					</label>

					<div class="title">
						<p>ì•„, ë§ë‹¤!</p>
						<h2>ê°€ì ¸ì˜¬ ë³´ë“œê²Œì„ì´ ìˆë‚˜ìš”?</h2>
					</div>
					<textarea
						name="boardgame"
						id=""
						cols="30"
						rows="10"
						placeholder="ë³´ë“œê²Œì„ ì´ë¦„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”!"
					/>

					<div class="title">
						<p>ì´ì œ ë§ˆì§€ë§‰ì´ì—ìš”.</p>
						<h2>ì‚¬ë‘ì˜ ë©”ì‹œì§€ ì¨ ì£¼ì„¸ìš”ğŸ’Œ</h2>
					</div>

					<textarea
						name="message"
						id=""
						cols="30"
						rows="10"
						placeholder="ì‚¬ë‘ì˜ ë©”ì‹œì§€, ë°”ë¼ëŠ” ì  ë“± ë­ë“ !"
					/>

					<details>
						<summary>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë‚´ìš©</summary>
						<table>
							<colgroup
								><col style="width:34%" /><col style="width:41%" /><col
									style="width:25%"
								/></colgroup
							>
							<thead>
								<tr>
									<th scope="col">ëª©ì </th><th scope="col">í•­ëª©</th><th scope="col">ë³´ìœ  ê¸°ê°„</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td
										>ì˜ˆê¸ˆì£¼ ë³¸ì¸ í™•ì¸, ì°¸ì „ ë¹„ìš© ì…ê¸ˆ í™•ì¸, í‘ë°±ì „ í–‰ì‚¬ ì§„í–‰ ë° ì„œë¹„ìŠ¤ ì œê³µ, ê¸´ê¸‰
										ì‚¬í•­ ë°œìƒ ì‹œ ë¹„ìƒ ì—°ë½</td
									>
									<td>ì„±ëª…, ë‹‰ë„¤ì„<br />íœ´ëŒ€í°ë²ˆí˜¸, ê³„ì¢Œë²ˆí˜¸</td>
									<td rowspan="5" class="imp_txt"
										><strong
											>í‘ë°±ì „ ì¢…ë£Œ í›„ 14ì¼ ì´ë‚´<br />ë˜ëŠ” ì œë°˜ ë¹„ìš©ì˜ ì •ì‚° ì™„ë£Œ í›„ 3ì¼ ì´ë‚´</strong
										></td
									>
								</tr>
								<tr>
									<td>ë¶€ì • ì´ìš© ë°©ì§€, ë¹„ì¸ê°€ ì‚¬ìš© ë°©ì§€</td>
									<td>ë°©ë¬¸ ì¼ì‹œ, ì„œë¹„ìŠ¤ ì´ìš© ê¸°ë¡ ë° ê¸°ê¸° ì •ë³´ </td>
								</tr>
							</tbody>
						</table>
					</details>

					<label>
						<input class="checkbox" type="checkbox" required />
						<p class="checkbox">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.</p>
					</label>

					<button type="submit" disabled>ì‹ ì²­ì´ ë§ˆê°ë˜ì—ˆìŠµë‹ˆë‹¤.</button>
				</form>
			</div>
		</div>
	</section>
</main>

<style>
	main {
		flex: 1;
		display: flex;
		flex-direction: column;
		width: 100%;
		max-width: 64rem;
		margin: 0 auto;
		box-sizing: border-box;
		color: white;
	}

	section {
		width: 100%;
	}

	.info {
		background-color: black;
	}
	.info .container {
		background-color: white;
		border-radius: 0 0 70px 0;
		padding: 50px 30px;
		color: black;
	}

	.form {
		background-color: white;
	}
	.form .container {
		background-color: black;
		border-radius: 70px 0 0 0;
		padding: 50px 30px;
	}

	.title p {
		font-size: 23px;
		font-weight: 100;
		margin: 0;
		word-spacing: -1px;
	}
	.title h2 {
		font-size: 23px;
		font-weight: 600;
		margin: 0 0 15px 0;
		word-spacing: -3px;
	}

	.card {
		background-color: black;
		border-radius: 20px;
		color: white;
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin: 20px 0;
		padding: 18px;
	}

	.card .title {
		font-weight: 600;
	}

	.card-text {
		width: 85%;
		font-size: 16px;
	}

	.card button {
		width: 40px;
		height: 40px;
		border-radius: 100%;
		border: 1px solid white;
		font-size: 13px;
		word-wrap: normal;
		word-spacing: -2px;
		font-weight: 100;
		padding: 0;
		text-align: center;
	}
	.card button.checked {
		background-color: white;
		color: black;
	}
	.card button.not-checked {
		background-color: black;
		color: white;
	}

	.desc {
		margin: 10px 0;
	}

	.card-text .desc span {
		display: inline-block;
		font-size: 14px;
		font-weight: 100;
		word-break: keep-all;
		line-height: 1.4;
	}

	label {
		display: block;
		font-size: 15px;
		font-weight: 500;
	}

	label span {
		font-weight: 100;
		word-spacing: -1px;
	}

	input {
		display: block;
		width: 100%;
		height: 50px;
		box-sizing: border-box;
		margin: 5px 0 20px 0;
		border-radius: 30px;
		padding: 15px;
		font-size: 16px;
	}

	input::placeholder,
	textarea::placeholder {
		color: #b4b4b4;
		font-size: 14px;
		font-family: 'Noto Sans KR', sans-serif;
	}

	textarea {
		display: block;
		width: 100%;
		height: 200px;
		box-sizing: border-box;
		margin: 5px 0 20px 0;
		border-radius: 20px;
		padding: 16px;
		font-size: 15px;
		font-family: 'Noto Sans KR';
	}

	input.checkbox {
		display: inline;
		width: 15px;
		height: 15px;
		accent-color: black;
		position: relative;
		top: 3px;
	}
	p.checkbox {
		display: inline-block;
		margin-left: 5px;
	}

	summary {
		font-size: 13px;
	}

	table {
		list-style: none;
		margin: 0;
		padding: 0;
		color: #676767;
		font-family: 'Noto Sans KR', sans-serif;
		width: 100%;
		border-collapse: collapse;
		font-size: 11px;
		border: 1px solid #dbdbdb;
		margin: 10px 0;
	}

	td {
		padding: 5px;
	}

	form button {
		width: 100%;
		height: 50px;
		border-radius: 30px;
		background-color: gray;
		text-align: center;
		font-size: 15px;
		color: black;
		font-weight: 700;
		margin: 20px 0;
	}
</style>
